@model Studio3.Models.MailModel

@{
    ViewBag.Title = "MailFunction";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>MailFunction</h2>


<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        if ('@ViewBag.Message' == 'Sent') {
            alert('Mail has been sent successfully');
        }
    });
</script>

<h2>Index</h2>
<fieldset>
    <legend>
        Send Email
    </legend>

    @using (@Html.BeginForm("MailFunction", "TheMail", FormMethod.Post, new { @id = "form1", @enctype = "multipart/form-data" }))
    {
        <input type="submit" value="Send" />
        <table>
            <tr>
                <td>
                    To:
                </td>
                <td>
                    @Html.TextBoxFor(m => m.Receiver)
                    @Html.ValidationMessageFor(m => m.Receiver)
                </td>
            </tr>
            <tr>
                <td>
                    Subject:
                </td>
                <td>
                    @Html.TextBoxFor(m => m.Subject)
                </td>
            </tr>
            <tr>
                <td>
                    Attachment
                </td>
                <td>
                    <input type="file" name="fileUploader" /> @*be consistent with HttpPostedFileBase*@
                </td>
            </tr>
            <tr>
                <td>
                    Body:
                </td>
                <td>
                    @Html.TextAreaFor(m => m.Body)
                </td>
            </tr>
        </table>
    }
</fieldset>